{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ad31bab8cfee56acf7b0","webpack:///./drip-drop/drip-drop.js","webpack:///./drip-drop/drop.js","webpack:///./drip-drop/drag.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,EAAC;AACD;AACA;AACA,IAAG;;;;;;;;;;;;;ACtCH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAoB,UAAU;AAC9B;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA,yBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kEAAiE;AACjE;AACA,MAAK;AACL,E","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dripDrop\"] = factory();\n\telse\n\t\troot[\"dripDrop\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ad31bab8cfee56acf7b0\n **/","exports.drop = require('./drop')\r\nexports.drag = require('./drag')\r\n\r\nexports.dontPreventDefault = function() {\r\n    document.removeEventListener('dragenter', docEnterHandler)\r\n    document.removeEventListener('dragover', docOverHandler)\r\n}\r\n\r\n\r\n// returns an opaque clone of the passed dom node ready to be moved with moveToMouse\r\nexports.ghostItem = function(domNode, zIndex) {\r\n    if(zIndex === undefined) zIndex = 1000\r\n\r\n    var aClone = domNode.cloneNode(true)\r\n    aClone.style.position = 'absolute'\r\n    aClone.style.top = '-100px'\r\n    aClone.style.width = domNode.clientWidth+'px'\r\n    aClone.style.opacity = '.6'\r\n    aClone.style.pointerEvents = 'none' // makes this 'invisible' to mouse events so it doesn't block mouse events while you're dragging it around\r\n    aClone.style['z-index'] = zIndex\r\n\r\n    return aClone\r\n}\r\n// moves an absolutely positioned element to the position by x and y\r\nexports.moveAbsoluteNode = function(node, x, y) {\r\n    node.style.left = x+'px'\r\n    node.style.top = y+'px'\r\n}\r\n\r\n// get rid of the need to do this for other drag events\r\nvar docEnterHandler, docOverHandler;\r\ndocument.addEventListener('dragenter',docEnterHandler=function(e){\r\n    e.preventDefault()\r\n})\r\ndocument.addEventListener('dragover',docOverHandler=function(e){\r\n    e.preventDefault()\r\n})\r\n//document.addEventListener('dragstart',docOverHandler=function(e){\r\n//    e.preventDefault()\r\n//})\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./drip-drop/drip-drop.js\n ** module id = 0\n ** module chunks = 0\n **/","\r\n// node - The node to set up as a drop zone\r\n// options - An object with the optional members:\r\n    // allow - A list of types to allow the event handlers be called for.\r\n            // If this is passed and the current drag operation doesn't have an allowed type, the handlers will not be called.\r\n            // If this isn't passed, all types are allowed.\r\n    // enter(types, e) - A function called when a drag action enters the node\r\n        // types - The data types available on drop\r\n    // move(types, e) - A function called with the dragging pointer moves over the node\r\n        // IMPORTANT: 'data' will contain the correct keys, but will *not* actually contain any data. Blame the stupid html5 drag and drop api.\r\n    // leave(types, e) - A function called with the dragging pointer moves out of the node\r\n    // in(types, e) - A function called when the dragging pointer crosses in over a child-boundary of a descendant node that is also a drop zone \r\n    // out(types, e) - A function called when the dragging pointer crosses out over a child-boundary of a descendant node that is also a drop zone\r\n    // drop(data, e) - A function called when the dragging pointer releases above the node\r\n        // data - An object where each key is a data type, where if that type contains dashes, the type will be available as is *and* with dash-lowercase converted to camel case\r\n            // The value is either:\r\n             // For the 'Files' type, the value is a list of files, each with a set of properties described here: https://developer.mozilla.org/en-US/docs/Web/API/File .\r\n              // In addition, the files have the methods:\r\n                // getText(errback) - Returns the text of the file in a call to the the errback\r\n                // getBuffer(errback) - Returns a Buffer of the file contents in a call to the the errback\r\n             // For any other type, the value is a string of data in a format depending on the type\r\nvar drop = module.exports = function(node, options) {\r\n    if(options.allow) {\r\n        var allowed = options.allow\r\n        var isAllowed = function(types) {\r\n            for(var n=0; n<allowed.length; n++) {\r\n                if(types.indexOf(allowed[n]) !== -1) {\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n    } else {\r\n        var isAllowed = function() {\r\n            return true\r\n        }\r\n    }\r\n\r\n    var dropInfo = {node:node}, curTypes, dragCounter = 0\r\n    node.addEventListener('dragenter', dropInfo.enter = function(e) {\r\n        dragCounter++\r\n        if(dragCounter === 1) { // browsers stupidly emits dragenter whenever crossing over a child boundary..\r\n            var data = buildDataObject(e.dataTransfer)\r\n            curTypes = Object.keys(data)\r\n            if(options.enter !== undefined && isAllowed(curTypes)) {\r\n                options.enter(curTypes,e)\r\n            }\r\n        } else if(options.in) {\r\n            options.in(curTypes, e)\r\n        }\r\n    })\r\n    if(options.move) {\r\n        var recentMousePos, dropEffect = 'copy', stopPropCalled;\r\n        node.addEventListener('dragover', dropInfo.over = function(e) {\r\n            var originalStopProp = e.stopPropagation\r\n            e.stopPropagation = function() {\r\n                stopPropCalled = true\r\n            }\r\n            \r\n            if(recentMousePos === undefined || e.pageX !== recentMousePos.x || e.pageY !== recentMousePos.y) {\r\n                recentMousePos = {x:e.pageX,  y:e.pageY}\r\n                if(isAllowed(curTypes)) {\r\n                    stopPropCalled = false\r\n                    dropEffect = options.move(curTypes, e)\r\n                }\r\n            }\r\n\r\n            if(dropEffect) e.dataTransfer.dropEffect=dropEffect\r\n            if(stopPropCalled) originalStopProp.call(e)\r\n        })\r\n    }\r\n\r\n    node.addEventListener('dragleave', dropInfo.leave = function(e) {\r\n        dragCounter--\r\n        if(dragCounter === 0) { // browsers stupidly emits dragleave whenever crossing over a child boundary..\r\n            if(options.leave && isAllowed(curTypes))\r\n                options.leave(curTypes,e)\r\n        }  else if(options.out) {\r\n            options.out(curTypes, e)\r\n        }\r\n    })\r\n    if(options.drop) {\r\n        node.addEventListener('drop', dropInfo.drop = function(e) {\r\n            e.preventDefault()\r\n            if(isAllowed(curTypes)) {\r\n                var data = buildDataObject(e.dataTransfer)\r\n                options.drop(data, e)\r\n            }\r\n\r\n            dragCounter=0 // reset\r\n        })\r\n    }\r\n\r\n    return function(dropInfo) {\r\n        if(dropInfo.enter) dropInfo.node.removeEventListener('dragstart', dropInfo.start)\r\n        if(dropInfo.move) document.removeEventListener('dragover', dropInfo.docover)\r\n        if(dropInfo.leave) dropInfo.node.removeEventListener('dragend', dropInfo.end)\r\n        if(dropInfo.drop) dropInfo.node.removeEventListener('drop', dropInfo.drop)\r\n    }\r\n}\r\n\r\nfunction readTextFile(file, type, cb){\r\n    var reader=new FileReader()\r\n    reader.onloadend=function(e) {\r\n        if(e.target.readyState==FileReader.DONE){\r\n            cb(undefined, reader.result)\r\n        }\r\n    }\r\n    reader.onerror = function(e) {\r\n        cb(e)\r\n    }\r\n    reader[type](file)\r\n}\r\n\r\nfunction buildDataObject(dt) {\r\n    var data = {}\r\n    if(dt.files.length > 0) {\r\n        data.Files = dt.files\r\n    }\r\n    for(var j=0; j<dt.types.length; j++) {\r\n        var type = dt.types[j]\r\n        if(type === 'Files') {\r\n            data.Files = dt.files\r\n            for(var n=0;n<data.Files.length;n++) {\r\n                var file = data.Files[n]\r\n                file.getText = function(cb) {\r\n                    readTextFile(file, 'readAsText', cb)\r\n                }\r\n                file.getBuffer = function(cb) {\r\n                    readTextFile(file, 'readAsArrayBuffer', cb)\r\n                }\r\n            }\r\n        } else {\r\n            attachGetter(data, dt, type)\r\n            var mappedType = mapToCamelCase(type)\r\n            if(mappedType !== type) {\r\n                attachGetter(data, dt, mappedType)\r\n            }\r\n        }\r\n    }\r\n\r\n    return data\r\n}\r\n\r\nfunction attachGetter(data, dt, type) {\r\n    Object.defineProperty(data, type, {\r\n        enumerable: true,\r\n        get: function() {\r\n            return dt.getData(type)\r\n        }\r\n    })\r\n}\r\n\r\nfunction mapToCamelCase(string) {\r\n    return string.replace(/(-[a-z])/g, function(match, submatch) {\r\n        return submatch[1].toUpperCase()\r\n    })\r\n}\r\n\r\n// returns true if the point intersects the element's bounds, false otherwise\r\nfunction pointerIsOver(x,y, element) {\r\n    var bounds = element.getBoundingClientRect()\r\n    return bounds.top <= y&&y <= bounds.bottom\r\n        && bounds.left <= x&&x <= bounds.right\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./drip-drop/drop.js\n ** module id = 1\n ** module chunks = 0\n **/","\r\n// node - The dom node to set as a drag handle\r\n// options\r\n    // image - Can take on one of the following possible values:\r\n        // false - (Default) No image\r\n        // true - The default generated drag image\r\n        // string - The path to an image\r\n        // imageObject - If this is an Image object, that will be used\r\n    // start(setData, e) - Called when dragging starts. Use setData to set the data for each type.\r\n        // setData(type, data) - Sets data for a particular type.\r\n            // NOTE: In an attempt mitigate type lowercasing weirdness, capitals will be converted to dash-lowercase *and* lowercase without dashes\r\n            // IE NOTE: IE is a piece of shit and doesn't allow any 'type' other than \"text\" and \"url\" - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/329509/\r\n    // move(pointerPosition, e)\r\n    // end(e)\r\nvar drag = module.exports = function(node, options) {\r\n    if(!options) options = {}\r\n    node.setAttribute(\"draggable\", \"true\")\r\n\r\n    var dragInfo = {node:node}\r\n    if(options.start) {\r\n        node.addEventListener('dragstart', dragInfo.start = function(e) {\r\n            if(options.image !== undefined) {\r\n                if(options.image !== true) { // if its true, leave the default drag image\r\n                    if(typeof(options.image) === 'string') {\r\n                        var image = new Image(options.image)\r\n                    } else {\r\n                        var image = options.image\r\n                    }\r\n\r\n                    e.dataTransfer.setDragImage(image, image.width,image.height)\r\n                }\r\n            } else {\r\n                e.dataTransfer.setDragImage(new Image, 0,0) // no image\r\n            }\r\n\r\n            var dataTransfer = e.dataTransfer\r\n            var effectAllowed = options.start(function(type, string) {\r\n                dataTransfer.setData(type, string)\r\n                var mappedType = mapFromCamelCase(type)\r\n                if(mappedType !== type) {\r\n                    dataTransfer.setData(mappedType, string)\r\n                }\r\n            }, e)\r\n\r\n            if(effectAllowed) e.dataTransfer.effectAllowed = effectAllowed\r\n\r\n            if(options.move) {\r\n                var recentMousePos\r\n                document.addEventListener('dragover', dragInfo.docOver = function(e) {\r\n                    if(recentMousePos === undefined || e.pageX !== recentMousePos.x || e.pageY !== recentMousePos.y) {\r\n                        recentMousePos = {x:e.pageX,  y:e.pageY}\r\n                        options.move(e)\r\n                    }\r\n                })\r\n\r\n                node.addEventListener('dragend', function dragendHandler() {\r\n                    document.removeEventListener('dragover', dragInfo.docOver)\r\n                    dragInfo.node.removeEventListener('dragend', dragendHandler)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    if(options.end) {\r\n        node.addEventListener('dragend', dragInfo.end = options.end)\r\n    }\r\n\r\n    return function off() {\r\n        if(dragInfo.start) dragInfo.node.removeEventListener('dragstart', dragInfo.start)\r\n        if(dragInfo.end) dragInfo.node.removeEventListener('dragend', dragInfo.end)\r\n        if(dragInfo.docOver) document.removeEventListener('dragover', dragInfo.docOver)\r\n    }\r\n}\r\n\r\nfunction mapFromCamelCase(string) {\r\n    return string.replace(/([A-Z])/g, function(match, submatch) {          // this is from jss\r\n        return '-' + submatch.toLowerCase()\r\n    })\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./drip-drop/drag.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"dripDrop-dev.umd.js"}